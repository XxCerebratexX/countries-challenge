{"version":3,"sources":["app.js"],"names":["require","_apiController","document","addEventListener","getCountriesList","searchBar","getElementById","closeList","element","x","i","length","parentNode","removeChild","e","div1","div2","searchValue","value","countryReturn","disabled","createElement","id","setAttribute","autoComplete","forEach","el","substr","toLowerCase","push","name","innerHTML","ev","newValue","target","appendChild","getElementsByTagName","getCountryInfo","info"],"mappings":"kTAAAA,QAAA,uBAEA,IAAAC,eAAAD,QAAA,sBAKAE,SAASC,iBAAiB,mBAAoB,YAE1C,EAAAF,eAAAG,oBACA,IAAIC,EAAYH,SAASI,eAAe,cAmCvC,SAAAC,EAAAC,GAGsE,IAAnEN,IAAQO,EAACH,SAAAA,uBAAgCH,qBAA0BO,EAAA,EAAAA,EAAAD,EAAAE,OAAAD,IAAAF,GAAAC,EAAAC,IAAAF,GAAAH,GAAAI,EAAAC,GAAAE,WAAAC,YAAAJ,EAAAC,IAP9DR,SAAMC,iBAAA,QAAA,SAAAW,GACHZ,EAASI,EAAAA,UA7BjBD,EAAUF,iBAAiB,QAAS,SAACW,GACjC,IAAIC,EAAMC,EACVT,IACA,IAAIU,EAAcZ,EAAUa,MAC5B,GAA0B,GAAtBD,EAAYN,OAAa,CAjBzC,IAAAQ,EAAA,GAmBgBjB,SAASI,eAAe,iBAAiBc,UAAW,GAEpDL,EAAOb,SAASmB,cAAc,QAdrClB,aAAiB,KAAjBA,GAAAA,OAAiBE,EAAoBiB,GAArCnB,kBAELY,EAAAQ,aAAA,QAAA,qBACalB,EAAWO,WAACN,YAAeS,GAE/BS,eAAAA,UAAeC,QAAA,SAAAC,GACVvB,EAAAA,KAAiBwB,OAA3B,EAAoCV,EAAON,QAAAiB,gBAAAX,EAAAW,gBACvCT,EAAAU,KAAAH,IACSV,EAAAd,SAAAmB,cAAA,QACShB,UAAAA,WAAAA,OAAlBqB,EAAAI,KAAAH,OAAA,EAAAV,EAAAN,QAAkBN,aAeNW,EAAKe,WAAaL,EAAGI,KAAKH,OAAOV,EAAYN,QAdzCA,EAAZoB,WAAYpB,+BAAAA,OAAae,EAAAI,KAAbnB,MACRQ,EAAgBhB,iBAApB,QAAA,SAAA6B,GACS1B,IAAe2B,EAAAD,EAAAE,OAAiBd,qBAAzC,SAAA,GAAAF,MAEgBG,EAAcH,MAA9Be,EACkB1B,MAERK,EAAWuB,YAAYpB,WAIzBI,SAAab,eAAb,iBAAAc,UAAA,IAMIlB,SAAAI,eAAkB4B,iBAAOE,iBAAqB,QAAYlB,WAAAA,IAAAA,EAAAA,OAAAA,mBAAAA,MAAAA,SAAAA,GAAAA,OAAAA,OAAAA,EAAAA,KAAAA,EAAAA,MAAAA,KAAAA,EAAAA,OAAAA,EAAAA,KAAAA,EAAAA,mBAAAA,OAC1D,EAAAjB,eAAAoC,gBAAAhC,EAAAa,QAD0DA,KAAAA,EAC1Db,EAD0Da,EAAAA,KAE1DX,QAAAA,IAAS+B,GAFiDpB,KAAAA,EAAAA,IAAAA,MAAAA,OAAAA,EAAAA,YAetEoB","file":"app.min.js","sourcesContent":["import \"./styles/style.scss\";\r\n\r\nimport {\r\n    getCountriesList,\r\n    getCountryInfo,\r\n    countries\r\n} from \"./js/apiController\"\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n    getCountriesList()\r\n    let searchBar = document.getElementById('search-bar');\r\n\r\n    function autoComplete() {\r\n        searchBar.addEventListener('input', (e) => {\r\n            let div1, div2;\r\n            closeList();\r\n            let searchValue = searchBar.value;\r\n            if (searchValue.length >= 3) {\r\n                let countryReturn = [];\r\n                document.getElementById('submit-search').disabled = false;\r\n\r\n                div1 = document.createElement('div');\r\n                div1.setAttribute('id', `${searchBar.id}-autocomplete`);\r\n                div1.setAttribute('class', 'autocomplete-list');\r\n                searchBar.parentNode.appendChild(div1);\r\n\r\n                countries.forEach(el => {\r\n                    if (el.name.substr(0, searchValue.length).toLowerCase() === searchValue.toLowerCase()) {\r\n                        countryReturn.push(el);\r\n                        div2 = document.createElement('div');\r\n                        div2.innerHTML = `<strong>${el.name.substr(0, searchValue.length)}</strong>`;\r\n                        div2.innerHTML += el.name.substr(searchValue.length);\r\n                        div2.innerHTML += `<input type='hidden' value='${el.name}'>`;\r\n                        div2.addEventListener('click', (ev) => {\r\n                            let newValue = ev.target.getElementsByTagName('input')[0].value;\r\n                            searchBar.value = newValue;\r\n                            closeList();\r\n                        })\r\n                        div1.appendChild(div2);\r\n                    }\r\n                });\r\n            } else {\r\n                document.getElementById('submit-search').disabled = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    function searchCountry() {\r\n        document.getElementById('submit-search').addEventListener('click', async(e) => {\r\n            let info = await getCountryInfo(searchBar.value);\r\n            console.log(info);\r\n        })\r\n\r\n    }\r\n\r\n    document.addEventListener(\"click\", (e) => {\r\n        closeList(e.target);\r\n    })\r\n\r\n    function closeList(element) {\r\n        /*close all autocomplete lists in the document,\r\n        except the one passed as an argument:*/\r\n        var x = document.getElementsByClassName(\"autocomplete-list\");\r\n        for (var i = 0; i < x.length; i++) {\r\n            if (element != x[i] && element != searchBar) {\r\n                x[i].parentNode.removeChild(x[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    autoComplete();\r\n    searchCountry();\r\n    closeList();\r\n})\r\n\r\nexport {\r\n    getCountriesList,\r\n    getCountryInfo\r\n}"]}