{"version":3,"sources":["app.js"],"names":["require","_apiController","document","addEventListener","getCountriesList","searchBar","getElementById","x","getElementsByClassName","i","length","searchCountry","element","removeChild","div1","div2","e","closeList","target","searchValue","value","countryReturn","disabled","createElement","setAttribute","concat","id","parentNode","appendChild","countries","forEach","el","name","substr","toLowerCase","push","innerHTML","ev","newValue","getElementsByTagName","info","regeneratorRuntime","async","_context","prev","next","awrap","getCountryInfo","sent","stop"],"mappings":"+ZAAAA,QAAA,uBAEA,IAAAC,eAAAD,QAAA,sBAMAE,SAASC,iBAAiB,mBAAoB,YAE1C,EAAAF,eAAAG,oBACA,IAAIC,EAAYH,SAASI,eAAe,cAgC5BJ,SAAAA,EAASI,GAuBjB,IApBH,IAAAC,EAAAL,SAAAM,uBAAA,qBAoBYC,EAAI,EAAGA,EAAIF,EAAEG,OAAQD,IAlBzBE,GAAgBJ,EAAAE,IAAAG,GAAAP,GACZC,EAAAA,GAAAA,WAAeO,YAAxBN,EAAyCJ,IAVzBW,SAAAA,iBAAiBC,QAAjB,SAAAC,GACHC,EAAAD,EAAAE,UA1Bbb,EAAUF,iBAAiB,QAAS,SAACa,GACjC,IAAIF,EAAMC,EACVE,IACA,IAAIE,EAAcd,EAAUe,MAC5B,GAA0B,GAAtBD,EAAYT,OAAa,CACzB,IAAIW,EAAgB,GACpBnB,SAASI,eAAe,iBAAiBgB,UAAW,GAEpDR,EAAOZ,SAASqB,cAAc,QACzBC,aAAa,KAAlB,GAAAC,OAA2BpB,EAAUqB,GAArC,kBAvBhBZ,EAAAU,aAAA,QAAA,qBAyBgBnB,EAAUsB,WAAWC,YAAYd,GAEjCe,eAAAA,UAAUC,QAAQ,SAAAC,GAnBzB5B,EAAiB6B,KAAAC,OAAA,EAAAd,EAAoBT,QAAMwB,gBAAAf,EAAAe,gBAEhDb,EAAAc,KAAAJ,IACgB7B,EAASI,SAAAA,cAAT,QAoBS8B,UAAL,WAAAX,OAA4BM,EAAGC,KAAKC,OAAO,EAAGd,EAAYT,QAA1D,aAlBpBK,EAAwBqB,WAAAL,EAAAC,KAAAC,OAAAd,EAAAT,QACVP,EAAAA,WAAAA,+BAAAA,OAAiC4B,EAAAC,KAAjC7B,MACNY,EAAAZ,iBAAA,QAAA,SAAAkC,GACS,IAAAC,EAAAD,EAAAnB,OAAAqB,qBAAA,SAAA,GAAAnB,MACSf,EAAUe,MAA5BkB,EAoBgBrB,MAlBRI,EAAgBO,YAApBb,WAKKS,SAALlB,eAA2B,iBAA3BgB,UAAA,IAMQP,SAAIT,eAAYiB,iBAAhBpB,iBAAA,QAAA,WAAA,IAAAqC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OACA9B,SAAKqB,eAAL,aAA8BA,UAAF,GAD5BO,EAAAE,KAAA,EAAAJ,mBAAAK,OAEA,EAAA7C,eAAA8C,gBAAkB1C,EAAec,QAFjC,KAAA,EAEIqB,EAFJG,EAAAK,KAGAjC,QAAKqB,IAAAA,IACLrB,EAAAA,eAAAA,YAAKZ,EAAAA,UAJL,KAAA,EAAA,IAAA,MAAA,OAAAwC,EAAAM,YAmBmDhC","file":"app.min.js","sourcesContent":["import \"./styles/style.scss\";\r\n\r\nimport {\r\n    getCountriesList,\r\n    getCountryInfo,\r\n    createCard,\r\n    countries\r\n} from \"./js/apiController\"\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n    getCountriesList()\r\n    let searchBar = document.getElementById('search-bar');\r\n\r\n    function autoComplete() {\r\n        searchBar.addEventListener('input', (e) => {\r\n            let div1, div2;\r\n            closeList();\r\n            let searchValue = searchBar.value;\r\n            if (searchValue.length >= 3) {\r\n                let countryReturn = [];\r\n                document.getElementById('submit-search').disabled = false;\r\n\r\n                div1 = document.createElement('div');\r\n                div1.setAttribute('id', `${searchBar.id}-autocomplete`);\r\n                div1.setAttribute('class', 'autocomplete-list');\r\n                searchBar.parentNode.appendChild(div1);\r\n\r\n                countries.forEach(el => {\r\n                    if (el.name.substr(0, searchValue.length).toLowerCase() === searchValue.toLowerCase()) {\r\n                        countryReturn.push(el);\r\n                        div2 = document.createElement('div');\r\n                        div2.innerHTML = `<strong>${el.name.substr(0, searchValue.length)}</strong>`;\r\n                        div2.innerHTML += el.name.substr(searchValue.length);\r\n                        div2.innerHTML += `<input type='hidden' value='${el.name}'>`;\r\n                        div2.addEventListener('click', (ev) => {\r\n                            let newValue = ev.target.getElementsByTagName('input')[0].value;\r\n                            searchBar.value = newValue;\r\n                            closeList();\r\n                        })\r\n                        div1.appendChild(div2);\r\n                    }\r\n                });\r\n            } else {\r\n                document.getElementById('submit-search').disabled = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    function searchCountry() {\r\n        document.getElementById('submit-search').addEventListener('click', async(e) => {\r\n            document.getElementById('main-body').innerHTML = ''\r\n            let info = await getCountryInfo(searchBar.value);\r\n            console.log(info);\r\n            createCard(info.response);\r\n        })\r\n\r\n    }\r\n\r\n    document.addEventListener(\"click\", (e) => {\r\n        closeList(e.target);\r\n    })\r\n\r\n    function closeList(element) {\r\n        /*close all autocomplete lists in the document,\r\n        except the one passed as an argument:*/\r\n        var x = document.getElementsByClassName(\"autocomplete-list\");\r\n        for (var i = 0; i < x.length; i++) {\r\n            if (element != x[i] && element != searchBar) {\r\n                x[i].parentNode.removeChild(x[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    autoComplete();\r\n    searchCountry();\r\n    closeList();\r\n})\r\n\r\nexport {\r\n    getCountriesList,\r\n    getCountryInfo,\r\n    createCard\r\n}"]}