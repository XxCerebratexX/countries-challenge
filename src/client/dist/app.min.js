"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getCountriesList",{enumerable:!0,get:function(){return _apiController.getCountriesList}}),Object.defineProperty(exports,"getCountryInfo",{enumerable:!0,get:function(){return _apiController.getCountryInfo}}),Object.defineProperty(exports,"createCard",{enumerable:!0,get:function(){return _apiController.createCard}}),require("./styles/style.scss");var _apiController=require("./js/apiController");document.addEventListener("DOMContentLoaded",function(){(0,_apiController.getCountriesList)();var a=document.getElementById("search-bar");function i(e){for(var t=document.getElementsByClassName("autocomplete-list"),n=0;n<t.length;n++)e!=t[n]&&e!=a&&t[n].parentNode.removeChild(t[n])}document.addEventListener("click",function(e){i(e.target)}),a.addEventListener("input",function(e){var t,n;i();var r=a.value;if(3<=r.length){var o=[];document.getElementById("submit-search").disabled=!1,(t=document.createElement("div")).setAttribute("id","".concat(a.id,"-autocomplete")),t.setAttribute("class","autocomplete-list"),a.parentNode.appendChild(t),_apiController.countries.forEach(function(e){e.name.substr(0,r.length).toLowerCase()===r.toLowerCase()&&(o.push(e),(n=document.createElement("div")).innerHTML="<strong>".concat(e.name.substr(0,r.length),"</strong>"),n.innerHTML+=e.name.substr(r.length),n.innerHTML+="<input type='hidden' value='".concat(e.name,"'>"),n.addEventListener("click",function(e){var t=e.target.getElementsByTagName("input")[0].value;a.value=t,i()}),t.appendChild(n))})}else document.getElementById("submit-search").disabled=!0}),document.getElementById("submit-search").addEventListener("click",function(){var t;return regeneratorRuntime.async(function(e){for(;;)switch(e.prev=e.next){case 0:return document.getElementById("main-body").innerHTML="",e.next=3,regeneratorRuntime.awrap((0,_apiController.getCountryInfo)(a.value));case 3:t=e.sent,console.log(t),(0,_apiController.createCard)(t.response);case 6:case"end":return e.stop()}})}),i()});
//# sourceMappingURL=app.min.js.map
