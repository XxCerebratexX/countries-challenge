{"version":3,"sources":["app.js"],"names":["document","addEventListener","searchBar","getElementById","autoComplete","e","div1","div2","closeList","searchValue","value","length","countryReturn","disabled","createElement","setAttribute","id","parentNode","appendChild","countries","forEach","el","name","substr","toLowerCase","push","innerHTML","ev","newValue","target","getElementsByTagName","searchCountry","info","console","log","response","element","x","getElementsByClassName","i","removeChild"],"mappings":"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","sourcesContent":["import \"./styles/style.scss\";\r\n\r\nimport {\r\n    getCountriesList,\r\n    getCountryInfo,\r\n    createCard,\r\n    countries\r\n} from \"./js/apiController\"\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n\r\n    getCountriesList()\r\n    let searchBar = document.getElementById('search-bar');\r\n\r\n    function autoComplete() {\r\n        searchBar.addEventListener('input', (e) => {\r\n            let div1, div2;\r\n            closeList();\r\n            let searchValue = searchBar.value;\r\n            if (searchValue.length >= 3) {\r\n                let countryReturn = [];\r\n                document.getElementById('submit-search').disabled = false;\r\n\r\n                div1 = document.createElement('div');\r\n                div1.setAttribute('id', `${searchBar.id}-autocomplete`);\r\n                div1.setAttribute('class', 'autocomplete-list');\r\n                searchBar.parentNode.appendChild(div1);\r\n\r\n                countries.forEach(el => {\r\n                    if (el.name.substr(0, searchValue.length).toLowerCase() === searchValue.toLowerCase()) {\r\n                        countryReturn.push(el);\r\n                        div2 = document.createElement('div');\r\n                        div2.innerHTML = `<strong>${el.name.substr(0, searchValue.length)}</strong>`;\r\n                        div2.innerHTML += el.name.substr(searchValue.length);\r\n                        div2.innerHTML += `<input type='hidden' value='${el.name}'>`;\r\n                        div2.addEventListener('click', (ev) => {\r\n                            let newValue = ev.target.getElementsByTagName('input')[0].value;\r\n                            searchBar.value = newValue;\r\n                            closeList();\r\n                        })\r\n                        div1.appendChild(div2);\r\n                    }\r\n                });\r\n            } else {\r\n                document.getElementById('submit-search').disabled = true;\r\n            }\r\n        });\r\n    }\r\n\r\n    function searchCountry() {\r\n        document.getElementById('submit-search').addEventListener('click', async(e) => {\r\n            let info = await getCountryInfo(searchBar.value);\r\n            console.log(info);\r\n            createCard(info.response);\r\n        })\r\n\r\n    }\r\n\r\n    document.addEventListener(\"click\", (e) => {\r\n        closeList(e.target);\r\n    })\r\n\r\n    function closeList(element) {\r\n        /*close all autocomplete lists in the document,\r\n        except the one passed as an argument:*/\r\n        var x = document.getElementsByClassName(\"autocomplete-list\");\r\n        for (var i = 0; i < x.length; i++) {\r\n            if (element != x[i] && element != searchBar) {\r\n                x[i].parentNode.removeChild(x[i]);\r\n            }\r\n        }\r\n    }\r\n\r\n    autoComplete();\r\n    searchCountry();\r\n    closeList();\r\n})\r\n\r\nexport {\r\n    getCountriesList,\r\n    getCountryInfo,\r\n    createCard\r\n}"],"file":"app.dev.js"}