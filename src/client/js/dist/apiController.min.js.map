{"version":3,"sources":["apiController.js"],"names":["countries","_nodeFetch","_interopRequireDefault","require","headers","method","credentials","Content-Type","getCountriesList","restCall","regeneratorRuntime","async","_context","prev","next","awrap","response","ok","then","res","json","resp","error","sent","exports","stop","getCountryInfo","value","_context2","concat","err","abrupt","createCard","array","forEach","el","console","log","DOMObject","document","createElement","setAttribute","heading","innerText","name","appendChild","info","region","innerHTML","population","currencies","map","currency","symbol","code","languages","language","nativeName","getElementById"],"mappings":"2MAAA,IAEIA,UAFJC,WAAAC,uBAAAC,QAAA,mHAGA,IAAMC,QAAU,CACZC,OAAQ,MACRC,YAAa,cACbF,QAAS,CACLG,eAAgB,qBAIxB,SAAeC,mBAAf,IAAAC,EAAA,OAAAC,mBAAAC,MAAA,SAAAC,GAAA,OAAA,OAAAA,EAAAC,KAAAD,EAAAE,MAAA,KAAA,EAAA,OAAAF,EAAAE,KAAA,EAAAJ,mBAAAK,OAEyB,EAAAd,WAAA,SAAM,qCAAsCG,SAXjEJ,KAAJ,SAAAgB,GAaY,GAAKA,EAASC,GAVT,OAAAD,EAFD,MAAAA,IAGHE,KAAA,SAAAC,GAAA,OAAAA,EAAAC,SAHbF,KAAA,SAAAG,GAoBY,OAAOA,IAVM,MAFVb,SAAAA,GAAAA,OAAAA,EAAfY,SAAAF,KAAA,SAAAI,GAAA,OAAAA,KAAA,KAAA,EAEQb,EAFRG,EAAAW,KAAAC,QAAAxB,UAAAA,UAAAS,EAAAO,SAAA,KAAA,EAAA,IAAA,MAAA,OAAAJ,EAAAa,UAAA,SAAAC,eAAAC,GAAA,IAAAlB,EAAA,OAAAC,mBAAAC,MAAA,SAAAiB,GAAA,OAAA,OAAAA,EAAAf,KAAAe,EAAAd,MAAA,KAAA,EAAA,OAAAc,EAAAd,KAAA,EAAAJ,mBAAAK,OAAA,EAAAd,WAAA,SAAA,iDAAA4B,OAE+BF,GAAAvB,SAEnBc,KAAA,SAAAF,GACI,GAAAA,EAAMA,GAGT,OAAAA,EAJD,MAEOA,IAIFE,KAAA,SAAAC,GAAIA,OAAIC,EAAJA,SAAJF,KACRA,SAAAA,GAAK,OAAAG,IAXd,MAYY,SAAAS,GAAA,OAAOT,EAAPD,SAAAF,KAAA,SAAAI,GAAA,OAAAA,KAZZ,KAAA,EAAA,OAAAb,EAAAmB,EAAAL,KAAAK,EAAAG,OAAA,SAEyBtB,GAFzB,KAAA,EAAA,IAAA,MAAA,OAAAmB,EAAAH,UAa8C,SAAAO,WAb9CC,GAmCIA,EAAMC,QAAQ,SAAAC,GAnClBC,QAAAC,IAAAF,GAEQ1B,IAFR6B,EAAAC,SAAAC,cAAA,OAeIF,EAAAG,aAAS,QAAGhC,gBAwBA,IAAIiC,EAAUH,SAASC,cAAc,MAvCrDE,EAAAC,UAAAR,EAAAS,KAAAN,EAAAO,YAAAH,GAAA,IAAAI,EAAAP,SAAAC,cAAA,OAAAM,EAAAL,aAAA,QAAA,gBAAA,IAAAM,EAAAR,SAAAC,cAAA,OA+CgBO,EAAON,aAAa,QAAS,UA7B9Bf,EAAfsB,UAAetB,qCAAAA,OAAfS,EAAAY,OAAerB,iBAAf,IAAAuB,EAAAV,SAAAC,cAAA,OAAAS,EAAAR,aAAA,QAAA,cAAAQ,EAAAD,UAAA,6CAAAnB,OAAAM,EAAAc,WAAA,iBAAA,IAAAC,EAAAX,SAAAC,cAAA,MAAAU,EAAAT,aAAA,QAEyB,YAETS,EAAUjC,UAAIkB,EAAAe,WAAAC,IAAA,SAAAC,GACRpC,MAAAA,+CAAAA,OACHoC,EAAAC,OADGrC,sCAAAA,OAECA,EAAPsC,KAFMtC,uCAAAA,OAGToC,EAAAR,KAHS5B,YAKbE,IAAKqC,EAAIhB,SAAAC,cAAA,MAAAe,EAAAd,aAAA,QAAA,YAROc,EASVP,UATU,gBAAAnB,OASPM,EAAAoB,UAAAJ,IAAA,SAAAK,GAAA,MAAA,QAAA3B,OAAI2B,EAAJC,WAAA,aAA0BX,EAX5CD,YAAAE,GAoDQD,EAAKD,YAAYK,GApDzBJ,EAAAD,YAAAU,GAEQ9C,EAAAA,YAFRwC,GAwDQX,EAAUO,YAAYC,GAxD9BP,SAAAmB,eAAA,aAAAb,YAAAP","file":"apiController.min.js","sourcesContent":["import fetch from \"node-fetch\";\r\n\r\nlet countries;\r\nconst headers = {\r\n    method: \"GET\",\r\n    credentials: 'same-origin',\r\n    headers: {\r\n        'Content-Type': 'application/json'\r\n    }\r\n};\r\n\r\nasync function getCountriesList() {\r\n\r\n    let restCall = await fetch('http://localhost:8003/getCountries', headers)\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw response;\r\n            } else {\r\n                return response;\r\n            }\r\n        })\r\n        .then(res => res.json())\r\n        .then(resp => {\r\n            return resp;\r\n        }).catch(err => err.json()).then(error => error);\r\n\r\n    countries = restCall.response;\r\n}\r\n\r\nasync function getCountryInfo(value) {\r\n\r\n    let restCall = await fetch(`http://localhost:8003/getCountriesbyName?name=${value}`, headers)\r\n        .then(response => {\r\n            if (!response.ok) {\r\n                throw response;\r\n            } else {\r\n                return response;\r\n            }\r\n        }).then(res => res.json())\r\n        .then(resp => resp)\r\n        .catch(err => err.json()).then(error => error);\r\n    return restCall;\r\n\r\n}\r\n\r\nfunction createCard(array) {\r\n    array.forEach(el => {\r\n                console.log(el)\r\n                let DOMObject = document.createElement('div');\r\n                DOMObject.setAttribute('class', 'country-card');\r\n                let heading = document.createElement('h2')\r\n                heading.innerText = el.name;\r\n                DOMObject.appendChild(heading);\r\n\r\n                let info = document.createElement('div');\r\n                info.setAttribute('class', 'country-info');\r\n\r\n                let region = document.createElement('div');\r\n                region.setAttribute('class', 'region');\r\n                region.innerHTML = `<div class=\"region\"><span>Region: ${el.region}</span></div>`\r\n\r\n                let population = document.createElement('div');\r\n                population.setAttribute('class', 'population');\r\n                population.innerHTML = `<div class=\"population\"><span>Population: ${el.population}</span></div>`\r\n\r\n                let currencies = document.createElement('ul');\r\n                currencies.setAttribute('class', 'currency');\r\n                currencies.innerHTML = el.currencies.map(currency => {\r\n                    return ` Currency(ies)\r\n                <li>Symbol: ${currency.symbol}</li> \r\n                <li>Code: ${currency.code} </li> \r\n                <li>Name: ${currency.name} </li>`\r\n                });\r\n\r\n                let languages = document.createElement('ul');\r\n                languages.setAttribute('class', 'language');\r\n                languages.innerHTML = `Language(s): ${el.languages.map(language => {\r\n            return `<li> ${language.nativeName} </li>`\r\n        })}`\r\n\r\n        info.appendChild(region);\r\n        info.appendChild(currencies);\r\n        info.appendChild(languages);\r\n        info.appendChild(population);\r\n\r\n        DOMObject.appendChild(info);\r\n        document.getElementById('main-body').appendChild(DOMObject);\r\n    })\r\n}\r\nexport { countries, getCountriesList, getCountryInfo, createCard }"]}